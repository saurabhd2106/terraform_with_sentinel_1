import "tfrun"
import "tfplan"

desired_vm_size = "Standard_A0"
workspace_name = tfrun.workspace.name

print("Checking to make sure the", workspace_name, "workspace is using a", desired_vm_size)

configured_vm_size = tfplan.resources.azurerm_linux_virtual_machine.my_vm.size

main = rule {
    desired_vm_size == configured_vm_size
}